// ============================================
// LEFT MENU COMPONENT STYLES
// Using PrimeNG PanelMenu & Avatar - Studio Theme
// Enhanced UI with smooth animations
// ============================================

// Icon size variables for responsive design
:root {
  --icon-size-desktop: 18px;
  --icon-size-tablet: 20px;
  --icon-size-mobile: 22px;
  --sidebar-width: 200px;
  --sidebar-collapsed-width: 60px;
  --transition-speed: 0.25s;
}

.app-container {
  display: flex;
  min-height: 100vh;
  height: 100vh;
}

// ============================================
// SIDEBAR LAYOUT
// ============================================
.sidebar {
  width: 200px;
  background: var(--bg2);
  border-right: 1px solid var(--border);
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  z-index: 200;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  transition: width 0.25s cubic-bezier(0.4, 0, 0.2, 1);

  // Collapsed state
  &.collapsed {
    width: 60px;

    .sidebar-header {
      flex-direction: column;
      gap: 0.5rem;
      padding: 0.75rem 0.5rem;
    }

    .logo {
      justify-content: center;

      h1 {
        display: none;
      }
    }

    .header-actions {
      flex-direction: column;
      gap: 0.25rem;
    }

    .collapse-btn {
      .collapse-icon {
        transform: rotate(180deg);
      }
    }

    .user-info {
      justify-content: center;
      padding: 0.75rem 0.5rem;
    }

    .user-details {
      display: none;
    }

    .user-avatar-wrapper {
      .status-badge {
        width: 8px;
        height: 8px;
      }
    }

    .nav-sections {
      padding: 0.25rem;
    }

    .logout-item {
      justify-content: center;
      padding: 0.75rem 0.5rem;

      span {
        display: none;
      }
    }
  }
}

.sidebar-header {
  flex-shrink: 0;
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(180deg, var(--bg3) 0%, var(--bg2) 100%);
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.625rem;

  .logo-icon {
    width: 32px;
    height: 32px;
    background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%);
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s ease, box-shadow 0.2s ease;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }

    svg {
      width: 16px;
      height: 16px;
      color: var(--bg);
    }
  }

  h1 {
    font-family: var(--font-serif);
    font-size: 1.05rem;
    color: var(--text);
    margin: 0;
    white-space: nowrap;
    transition: opacity var(--transition-speed) ease, width var(--transition-speed) ease;
  }
}

.header-actions {
  display: flex;
  align-items: center;
  gap: 0.375rem;
}

.icon-btn {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  background: var(--bg3);
  border: 1px solid var(--border);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text2);
  transition: all 0.2s ease;
  outline: none;
  flex-shrink: 0;

  &:hover {
    background: var(--hover);
    border-color: var(--border2);
    color: var(--text);
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }

  &:focus-visible {
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);
  }

  svg {
    width: 14px;
    height: 14px;
    transition: transform 0.2s ease;
  }
}

// Collapse button specific styles
.collapse-btn {
  .collapse-icon {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

.user-info {
  flex-shrink: 0;
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  gap: 0.625rem;
  background: var(--bg2);
  transition: all var(--transition-speed) ease;
}

// ============================================
// PRIMENG AVATAR STYLING
// ============================================
:host ::ng-deep .user-avatar-prime {
  &.p-avatar {
    width: 36px !important;
    height: 36px !important;
    min-width: 36px !important;
    background: linear-gradient(135deg, var(--accent) 0%, var(--primary) 100%) !important;
    color: var(--bg) !important;
    font-weight: 600 !important;
    font-size: 0.75rem !important;
    font-family: var(--font-sans) !important;
    border: 2px solid var(--bg3) !important;
    flex-shrink: 0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease, box-shadow 0.2s ease;

    &:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .p-avatar-text {
      font-size: 0.75rem !important;
      font-weight: 600 !important;
      line-height: 1 !important;
    }

    .p-avatar-image {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
    }
  }

  &.p-avatar-circle {
    border-radius: 50% !important;
  }
}

// Avatar with status badge
:host ::ng-deep .user-avatar-wrapper {
  position: relative;
  display: inline-flex;

  .status-badge {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    border: 2px solid var(--bg2);
    background: var(--success);
    animation: pulse 2s infinite;

    &.offline {
      background: var(--muted);
      animation: none;
    }

    &.busy {
      background: var(--danger);
    }

    &.away {
      background: var(--warning);
    }
  }
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.4);
  }
  50% {
    box-shadow: 0 0 0 4px rgba(34, 197, 94, 0);
  }
}

.user-details {
  overflow: hidden;
  transition: opacity var(--transition-speed) ease, width var(--transition-speed) ease;

  h4 {
    font-size: 0.8rem;
    color: var(--text);
    font-weight: 600;
    font-family: var(--font-sans);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  span {
    font-size: 0.65rem;
    color: var(--muted);
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

// ============================================
// NAVIGATION SECTIONS - SCROLLABLE
// ============================================
.nav-sections {
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  padding: 0.5rem;

  // Custom scrollbar for nav
  &::-webkit-scrollbar {
    width: 4px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 2px;

    &:hover {
      background: var(--border2);
    }
  }
}

// ============================================
// PRIMENG PANEL MENU - STUDIO THEME
// ============================================
:host ::ng-deep .studio-panel-menu {
  &.p-panelmenu {
    background: transparent !important;
    border: none !important;
    width: 100% !important;
    font-family: var(--font-sans) !important;
  }

  .p-panelmenu-panel {
    margin-bottom: 0.25rem !important;
    background: transparent !important;
    border: none !important;
  }

  // Section Headers
  .p-panelmenu-header {
    background: transparent !important;
    border: none !important;
    outline: none !important;

    .p-panelmenu-header-content {
      background: transparent !important;
      border: none !important;
      border-radius: 0 !important;
      padding: 0 !important;

      &:hover {
        background: transparent !important;
      }
    }

    .p-panelmenu-header-link,
    .p-panelmenu-header-action {
      display: flex !important;
      align-items: center !important;
      padding: 0.625rem 0.75rem 0.375rem !important;
      font-size: 0.625rem !important;
      text-transform: uppercase !important;
      letter-spacing: 1.5px !important;
      color: var(--muted) !important;
      font-weight: 700 !important;
      background: transparent !important;
      border: none !important;
      cursor: default !important;

      &::before {
        content: '';
        width: 12px;
        height: 2px;
        background: var(--border);
        margin-right: 0.5rem;
        border-radius: 1px;
      }

      &:hover {
        background: transparent !important;
      }

      &:focus {
        box-shadow: none !important;
        outline: none !important;
      }
    }

    .p-panelmenu-header-toggle-icon,
    .p-submenu-icon {
      display: none !important;
    }
  }

  // Content
  .p-panelmenu-content {
    background: transparent !important;
    border: none !important;
    padding: 0 !important;
  }

  .p-panelmenu-root-list,
  .p-submenu-list {
    padding: 0 !important;
    margin: 0 !important;
    list-style: none !important;
  }

  // Menu Items
  .p-panelmenu-item {
    margin: 2px 0 !important;
  }

  .p-panelmenu-item-content {
    background: transparent !important;
    border: none !important;
    border-radius: 8px !important;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1) !important;
    padding: 0 !important;
    position: relative;
    overflow: visible !important;

    // Left accent bar on hover
    &::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 0;
      background: var(--primary);
      border-radius: 0 2px 2px 0;
      transition: height 0.2s ease;
      z-index: 1;
    }

    &:hover {
      background: var(--bg3) !important;

      &::before {
        height: 60%;
      }
    }
  }

  // Menu Links
  .p-panelmenu-item-link,
  .p-menuitem-link {
    display: flex !important;
    align-items: center !important;
    gap: 0.75rem !important;
    padding: 0.625rem 0.875rem !important;
    color: var(--text2) !important;
    font-size: 0.8rem !important;
    font-weight: 500 !important;
    text-decoration: none !important;
    border-radius: 8px !important;
    background: transparent !important;
    border: none !important;
    width: 100% !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;

    &:hover {
      color: var(--text) !important;
    }

    &:focus {
      box-shadow: none !important;
      outline: none !important;
    }
  }

  // Active State
  .p-panelmenu-item-content:has(.p-panelmenu-item-link.active),
  .p-panelmenu-item-content:has(a.active) {
    background: linear-gradient(90deg, var(--accent) 0%, var(--primary) 100%) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;

    &::before {
      display: none;
    }

    .p-panelmenu-item-link,
    .p-menuitem-link {
      color: var(--bg) !important;
    }

    .p-panelmenu-item-icon,
    .pi {
      color: var(--bg) !important;
    }

    &:hover {
      opacity: 0.95;
    }
  }

  // Icon styling
  .p-panelmenu-item-icon,
  .p-menuitem-icon,
  .pi {
    width: 18px !important;
    height: 18px !important;
    min-width: 18px !important;
    font-size: 18px !important;
    flex-shrink: 0 !important;
    color: currentColor !important;
    margin-right: 0 !important;
    line-height: 1 !important;
    transition: transform 0.2s ease !important;
  }

  // Icon hover effect
  .p-panelmenu-item-content:hover {
    .p-panelmenu-item-icon,
    .p-menuitem-icon,
    .pi {
      transform: scale(1.1);
    }
  }

  // Label
  .p-panelmenu-item-label,
  .p-menuitem-text {
    font-size: 0.8rem !important;
    font-weight: 500 !important;
    line-height: 1.2 !important;
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
  }

  // Hide submenu arrows
  .p-panelmenu-submenu-icon,
  .p-menuitem-toggle-icon {
    display: none !important;
  }
}

// ============================================
// COLLAPSED STATE - PANEL MENU WITH TOOLTIPS
// ============================================
:host ::ng-deep .app-container.sidebar-collapsed .studio-panel-menu {
  .p-panelmenu-header {
    display: none !important;
  }

  .p-panelmenu-item-content {
    position: relative;
    overflow: visible !important;

    &::before {
      display: none;
    }

    // CSS Tooltip on hover
    &::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 100%;
      top: 50%;
      transform: translateY(-50%);
      margin-left: 8px;
      padding: 0.5rem 0.75rem;
      background: var(--bg2);
      border: 1px solid var(--border);
      border-radius: 6px;
      font-size: 0.75rem;
      color: var(--text);
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.15s ease, visibility 0.15s ease;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      pointer-events: none;
    }

    &:hover::after {
      opacity: 1;
      visibility: visible;
    }
  }

  .p-panelmenu-item-link,
  .p-menuitem-link {
    justify-content: center !important;
    padding: 0.625rem !important;
  }

  .p-panelmenu-item-label,
  .p-menuitem-text {
    display: none !important;
  }

  .p-panelmenu-item-icon,
  .p-menuitem-icon,
  .pi {
    margin: 0 !important;
    width: 20px !important;
    height: 20px !important;
    font-size: 20px !important;
  }
}

// ============================================
// FOOTER - FIXED AT BOTTOM
// ============================================
.nav-footer {
  flex-shrink: 0;
  border-top: 1px solid var(--border);
  padding: 0.5rem;
  background: linear-gradient(0deg, var(--bg3) 0%, var(--bg2) 100%);
}

.logout-item {
  display: flex;
  align-items: center;
  gap: 0.625rem;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  cursor: pointer;
  color: var(--text2);
  font-size: 0.8rem;
  font-weight: 500;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent 0%, var(--danger) 50%, transparent 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  &:hover {
    background: rgba(239, 68, 68, 0.1);
    color: var(--danger);

    &::before {
      opacity: 0.05;
    }
  }

  &:active {
    transform: scale(0.98);
  }

  svg,
  i {
    width: var(--icon-size-desktop);
    height: var(--icon-size-desktop);
    font-size: var(--icon-size-desktop);
    flex-shrink: 0;
    position: relative;
    z-index: 1;
  }

  span {
    position: relative;
    z-index: 1;
    white-space: nowrap;
  }
}

// ============================================
// MAIN CONTENT
// ============================================
.main-content {
  flex: 1;
  margin-left: 200px;
  padding: 1rem;
  min-height: 100vh;
  background: var(--bg);
  overflow-y: auto;
  transition: margin-left 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  box-sizing: border-box;
}

// When sidebar is collapsed via class on container
.app-container.sidebar-collapsed .main-content {
  margin-left: 60px;
}

// ============================================
// CUSTOM ICONS (SVG Mask Method)
// ============================================
.studio-icon {
  display: inline-block;
  width: var(--icon-size-desktop);
  height: var(--icon-size-desktop);
  flex-shrink: 0;
  background-color: currentColor;
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;

  &.studio-icon-dashboard {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='7' height='7'/%3E%3Crect x='14' y='3' width='7' height='7'/%3E%3Crect x='3' y='14' width='7' height='7'/%3E%3Crect x='14' y='14' width='7' height='7'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='7' height='7'/%3E%3Crect x='14' y='3' width='7' height='7'/%3E%3Crect x='3' y='14' width='7' height='7'/%3E%3Crect x='14' y='14' width='7' height='7'/%3E%3C/svg%3E");
  }

  &.studio-icon-add {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 5v14M5 12h14'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 5v14M5 12h14'/%3E%3C/svg%3E");
  }

  &.studio-icon-calendar {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='4' width='18' height='18' rx='2'/%3E%3Cpath d='M16 2v4M8 2v4M3 10h18'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='4' width='18' height='18' rx='2'/%3E%3Cpath d='M16 2v4M8 2v4M3 10h18'/%3E%3C/svg%3E");
  }

  &.studio-icon-document {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'/%3E%3Cpath d='M14 2v6h6M16 13H8M16 17H8M10 9H8'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'/%3E%3Cpath d='M14 2v6h6M16 13H8M16 17H8M10 9H8'/%3E%3C/svg%3E");
  }

  &.studio-icon-invoice {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'/%3E%3Cpath d='M14 2v6h6M16 13H8M16 17H8M10 9H8'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z'/%3E%3Cpath d='M14 2v6h6M16 13H8M16 17H8M10 9H8'/%3E%3C/svg%3E");
  }

  &.studio-icon-folder {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z'/%3E%3C/svg%3E");
  }

  &.studio-icon-frame {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='18' height='18' rx='2'/%3E%3Crect x='7' y='7' width='10' height='10'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='18' height='18' rx='2'/%3E%3Crect x='7' y='7' width='10' height='10'/%3E%3C/svg%3E");
  }

  &.studio-icon-image {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='18' height='18' rx='2'/%3E%3Ccircle cx='8.5' cy='8.5' r='1.5'/%3E%3Cpath d='m21 15-5-5L5 21'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='3' width='18' height='18' rx='2'/%3E%3Ccircle cx='8.5' cy='8.5' r='1.5'/%3E%3Cpath d='m21 15-5-5L5 21'/%3E%3C/svg%3E");
  }

  &.studio-icon-settings {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='3'/%3E%3Cpath d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='3'/%3E%3Cpath d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'/%3E%3C/svg%3E");
  }

  &.studio-icon-package {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='m16.5 9.4-9-5.19M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z'/%3E%3Cpath d='M3.27 6.96 12 12.01l8.73-5.05M12 22.08V12'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='m16.5 9.4-9-5.19M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z'/%3E%3Cpath d='M3.27 6.96 12 12.01l8.73-5.05M12 22.08V12'/%3E%3C/svg%3E");
  }

  &.studio-icon-user {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E");
  }

  &.studio-icon-money {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6'/%3E%3C/svg%3E");
  }

  &.studio-icon-building {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11M8 14v3M12 14v3M16 14v3'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M3 21h18M3 10h18M5 6l7-3 7 3M4 10v11M20 10v11M8 14v3M12 14v3M16 14v3'/%3E%3C/svg%3E");
  }

  &.studio-icon-location {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z'/%3E%3Ccircle cx='12' cy='10' r='3'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z'/%3E%3Ccircle cx='12' cy='10' r='3'/%3E%3C/svg%3E");
  }

  &.studio-icon-users {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='9' cy='7' r='4'/%3E%3Cpath d='M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='9' cy='7' r='4'/%3E%3Cpath d='M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75'/%3E%3C/svg%3E");
  }

  &.studio-icon-shield {
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z'/%3E%3C/svg%3E");
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z'/%3E%3C/svg%3E");
  }
}

// ============================================
// COLLAPSED STATE - AVATAR
// ============================================
:host ::ng-deep .app-container.sidebar-collapsed {
  .user-avatar-prime.p-avatar {
    width: 32px !important;
    height: 32px !important;
    min-width: 32px !important;
    font-size: 0.7rem !important;
  }
}

// ============================================
// RESPONSIVE - TABLET (768px - 1024px)
// ============================================
@media (max-width: 1024px) and (min-width: 769px) {
  .sidebar {
    width: 180px;
  }

  .main-content {
    margin-left: 180px;
    padding: 1rem;
  }

  :host ::ng-deep .user-avatar-prime {
    &.p-avatar {
      width: 34px !important;
      height: 34px !important;
      min-width: 34px !important;
      font-size: 0.7rem !important;

      .p-avatar-text {
        font-size: 0.7rem !important;
      }
    }
  }

  :host ::ng-deep .studio-panel-menu {
    .p-panelmenu-item-link,
    .p-menuitem-link {
      padding: 0.55rem 0.75rem !important;
      font-size: 0.75rem !important;
    }

    .p-panelmenu-item-icon,
    .p-menuitem-icon,
    .studio-icon,
    .pi {
      width: var(--icon-size-tablet) !important;
      height: var(--icon-size-tablet) !important;
      min-width: var(--icon-size-tablet) !important;
      font-size: var(--icon-size-tablet) !important;
    }
  }

  .studio-icon {
    width: var(--icon-size-tablet);
    height: var(--icon-size-tablet);
  }
}

// ============================================
// RESPONSIVE - MOBILE (< 768px)
// ============================================
@media (max-width: 768px) {
  .sidebar {
    width: 60px;

    .logo h1,
    .user-details,
    .collapse-text {
      display: none;
    }

    .sidebar-header {
      justify-content: center;
      padding: 0.75rem 0.5rem;
    }

    .logo {
      justify-content: center;
    }

    .logo-icon {
      width: 36px;
      height: 36px;

      svg {
        width: 18px;
        height: 18px;
      }
    }

    // Hide collapse button on mobile
    .collapse-btn {
      display: none;
    }
  }

  .header-actions {
    justify-content: center;
  }

  .user-info {
    justify-content: center;
    padding: 0.75rem 0.5rem;
  }

  :host ::ng-deep .user-avatar-prime {
    &.p-avatar {
      width: 38px !important;
      height: 38px !important;
      min-width: 38px !important;
      font-size: 0.85rem !important;

      .p-avatar-text {
        font-size: 0.85rem !important;
      }
    }
  }

  .main-content {
    margin-left: 60px;
    padding: 0.75rem;
  }

  .logout-item {
    justify-content: center;
    padding: 0.75rem 0.5rem;

    span {
      display: none;
    }

    svg,
    i {
      width: 22px;
      height: 22px;
      font-size: 22px;
    }
  }

  .studio-icon {
    width: 22px;
    height: 22px;
  }

  :host ::ng-deep .studio-panel-menu {
    .p-panelmenu-header {
      display: none !important;
    }

    .p-panelmenu-item-link,
    .p-menuitem-link {
      justify-content: center !important;
      padding: 0.75rem 0.5rem !important;
    }

    .p-panelmenu-item-label,
    .p-menuitem-text {
      display: none !important;
    }

    .p-panelmenu-item-icon,
    .p-menuitem-icon,
    .studio-icon,
    .pi {
      width: 22px !important;
      height: 22px !important;
      min-width: 22px !important;
      font-size: 22px !important;
      margin: 0 !important;
    }

    .p-panelmenu-item-content::before {
      display: none;
    }
  }
}

// ============================================
// RESPONSIVE - SMALL MOBILE (< 480px)
// ============================================
@media (max-width: 480px) {
  .sidebar {
    width: 56px;
  }

  .main-content {
    margin-left: 56px;
    padding: 0.5rem;
  }

  :host ::ng-deep .user-avatar-prime {
    &.p-avatar {
      width: 40px !important;
      height: 40px !important;
      min-width: 40px !important;
      font-size: 0.9rem !important;

      .p-avatar-text {
        font-size: 0.9rem !important;
      }
    }
  }

  .logout-item {
    padding: 0.875rem 0.5rem;
  }

  :host ::ng-deep .studio-panel-menu {
    .p-panelmenu-item-link,
    .p-menuitem-link {
      padding: 0.875rem 0.5rem !important;
    }
  }
}

// ============================================
// DARK/LIGHT MODE SPECIFIC ADJUSTMENTS
// ============================================
:host-context(.light-mode) {
  .sidebar {
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
  }

  .logo-icon {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  :host ::ng-deep .user-avatar-prime.p-avatar {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  :host ::ng-deep .studio-panel-menu {
    .p-panelmenu-item-content:has(a.active),
    .router-link-active {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
  }
}
